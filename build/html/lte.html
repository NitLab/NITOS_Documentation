

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>LTE &mdash;  2.0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title=" 2.0.1 documentation" href="index.html"/>
        <link rel="next" title="OpenFlow" href="openflow.html"/>
        <link rel="prev" title="WiMAX" href="wimax.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> 
          

          
            
            <img src="_static/nitos-logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="accessing_nitos.html">Accessing NITOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_saveOMF.html">Loading and Saving an OMF-compatible image on your resource</a></li>
<li class="toctree-l1"><a class="reference internal" href="control_Nodes_Status.html">Controlling the status of the nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="runOMF.html">Using your slice to run OMF experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="resultsOML.html">Accessing the measurements gathered from your OMF experiment</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="omf_example.html">Simple OMF Example</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="wireless_example.html">Wi-Fi</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="wimax.html">WiMAX</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">LTE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basics">1.Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prerequisties">2.Prerequisties</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#accessing-provisioning-resources"><em>Accessing/Provisioning Resources</em></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#check-which-base-station-you-are-using">3.Check which Base Station you are using</a></li>
<li class="toctree-l2"><a class="reference internal" href="#restart-base-station">4.Restart Base Station</a></li>
<li class="toctree-l2"><a class="reference internal" href="#restart-epc">5.Restart EPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-if-all-components-are-connected">6.Check if all components are connected</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connect-to-the-lte-network">7.Connect to the LTE network</a></li>
<li class="toctree-l2"><a class="reference internal" href="#performing-downlink-experiments">8.Performing Downlink experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-lterf-configurations">9.Other LTErf configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-omf">10.Using OMF</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-tutorials">11.Other Tutorials</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="openflow.html">OpenFlow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="its.html">Intelligent Transport System (ITS)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html"></a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>LTE</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/lte.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lte">
<h1>LTE<a class="headerlink" href="#lte" title="Permalink to this headline">¶</a></h1>
<div class="section" id="basics">
<h2>1.Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h2>
<p>At the beggining, you will see how to connect and use the LTE testbed. You&#8217;ll also see how to develop and run a simple experiment where the LTE interface is properly configured and how to generate traffic between two nodes.</p>
</div>
<div class="section" id="prerequisties">
<h2>2.Prerequisties<a class="headerlink" href="#prerequisties" title="Permalink to this headline">¶</a></h2>
<div class="section" id="accessing-provisioning-resources">
<h3><em>Accessing/Provisioning Resources</em><a class="headerlink" href="#accessing-provisioning-resources" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Accessing a Resource at NITOS</strong></div>
<div class="line"><br /></div>
<div class="line">Initially, you have to reserve a node at NITOS: <a class="reference internal" href="accessing_nitos.html#getting-slice"><span>2.Getting a Slice and Reserving Resources</span></a></div>
</div>
<div class="line-block">
<div class="line">In order to use the LTE testbed resources offered by the NITOS facility, you will have to reserve one of the LTE eNBs and the nodes
with LTE connectivity, offered by the testbed.</div>
</div>
<div class="line-block">
<div class="line">There are a number of different LTE dongles available in the testbed, with different capabilities, but they roughly come down to the following configurations:</div>
<div class="line"><br /></div>
<div class="line">1. Dongles with IMSIs for the PLMNID 46099 (NITOS PLMN)</div>
<div class="line">2. Dongles with IMSIs for the PLMNID 20398 (Default PLMN for OpenAirInterface - OAI)</div>
<div class="line"><br /></div>
<div class="line">The available dongles in the testbed are the following:</div>
<div class="line"><br /></div>
<div class="line">1. Huawei E392, configurable with AT Commands</div>
<div class="line">2. Huawei E3272, configurable with AT Commands</div>
<div class="line">3. Huawei E3372, configurable with HiLink REST interface</div>
<div class="line">4. ZTE MF831, configurable with the ZTE REST interface</div>
<div class="line"><br /></div>
<div class="line">Generally, the E392 and E3272 dongles support connecting to the network and direct bridging with the network interface available in the dongle (wwan0 interface).</div>
<div class="line">This means that the nodes can be configured to ping each other, or do downlink experiments directly on the network interface of the node.</div>
<div class="line"><br /></div>
<div class="line">The nodes with such interface and the NITOS PLMN are (<strong>node054, node058, node067, node074, node076, node077, node083, node084</strong>), whereas with the OAI PLMN are (<strong>node050, node052</strong>).</div>
<div class="line"><br /></div>
<div class="line">For the HiLink/ZTE nodes, you will be able to conect to the LTE network and generate traffic, but a NAT process is running on the LTE stick.</div>
<div class="line">In order to run downlink experiments, you will need to initiate traffic from the node (e.g. using dual test with iperf), whereas running experiments where traffic is exchanged between two nodes is not feasible with them.</div>
<div class="line"><br /></div>
<div class="line">The nodes with HiLink/ZTE interface and the NITOS PLMN are (<strong>node057, node065, node069, node079, node085, node089, node092</strong>), whereas with the OAI PLMN are (<strong>node059, node063, node068, node071, node086</strong>).</div>
<div class="line"><br /></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Always know what nodes you are reserving and what their capabilities are! You can check the characteristics of each dongle by expanding each &#8220;node&#8221; tab at the NITOS portal <strong>http://nitos.inf.uth.gr</strong>!</p>
</div>
<div class="line-block">
<div class="line">Reserving a node configured for using the OpenAirInterface PLMNID does not mean that you will not be able to connect it to the NITOS network. You will need to add the client to the EPC, and the dongle will connect as a &#8220;Roaming&#8221; client, or you can completely change the configurations of the EPC and Base Stations in order to provision this network.</div>
<div class="line">If you need any help in setting up this process, please consult the NITlab team or raise a ticket at <strong>http://repo.nitlab.inf.uth.gr/tickets</strong></div>
</div>
<div class="line-block">
<div class="line">Reserving the eNBs will render rights to the experimenter to access the LTErf service of the NITOS facility, used to configure and setup the eNBs and the EPC at the experimenter&#8217;s will.</div>
</div>
<div class="line-block">
<div class="line"><em>After your reservation has started, login to Server.</em></div>
<div class="line"><br /></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You have to connect to <strong>NITOS Server 3 nitlab3.inf.uth.gr</strong>!</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This section of the documentation is based in OMF 5.4!</p>
</div>
<p>You can use your NITOS account to access the NITOS Server 3. Just open a secure shell and write:</p>
<div class="highlight-bash"><div class="highlight"><pre>ssh slice_name@nitlab3.inf.uth.gr
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><em>i.e syiordan&#64;nitlab3.inf.uth.gr</em></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><strong>Provisioning a Resource at NITOS</strong></div>
<div class="line"><br /></div>
<div class="line">Once you have logged in, you have to load the image <strong>baseline_icarus_lte.ndz</strong> on your reserved nodes. You can use the method described on <a class="reference internal" href="load_saveOMF.html#loading-omf"><span>1.Loading an image</span></a> for instructions on how to load images on resources at NITOS. You can find <a class="reference external" href="http://nitlab.inf.uth.gr">here</a> all the available baseline images provided by NITlab.</div>
</div>
</div>
</div>
<div class="section" id="check-which-base-station-you-are-using">
<h2>3.Check which Base Station you are using<a class="headerlink" href="#check-which-base-station-you-are-using" title="Permalink to this headline">¶</a></h2>
<p>In order to start experimenting with the LTE components in NITOS, you have first to find out which eNodeB you will be using. In general, node 1 is the eNB in the NITOS Outdoor deployment (currently offline for maintenance) and node 2 is the Indoor one. Other entries might exist for test purposes with OAI.</p>
<p>In order to check the available eNodeBs and their IP addresses, you have to send the following command to the service:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget -qO- http://lterf:5054/lterf/bs/list
</pre></div>
</div>
<p>which should reply something like the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>AP Number : <span class="m">1</span> <span class="p">|</span> Type of BS : ipaccess <span class="p">|</span> Ip : 10.64.44.52 <span class="p">|</span> Management Iterface : eth1
AP Number : <span class="m">2</span> <span class="p">|</span> Type of BS : ipaccess <span class="p">|</span> Ip : 192.168.200.1 <span class="p">|</span> Management Iterface : eth0
AP Number : <span class="m">3</span> <span class="p">|</span> Type of BS : oai <span class="p">|</span> Ip : 10.64.44.56 <span class="p">|</span> Management Iterface : eth1
</pre></div>
</div>
<p>The Indoor testbed is using the 192.168.200.0/24 network for the network between the eNodeB and the EPC network. For the indoor testbed, AP number = 2 should be used for altering the base station components, by appending node=2 to all the commands sent to the LTErf service.</p>
</div>
<div class="section" id="restart-base-station">
<h2>4.Restart Base Station<a class="headerlink" href="#restart-base-station" title="Permalink to this headline">¶</a></h2>
<p>As a first step, you should turn on the base station. By default, the base station is turned off when not used. To do so, issue the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>omf tell -a on -t e_node_b_001
</pre></div>
</div>
<p>It is important to setup the eNBs to the default settings, as their configuration might have been altered from their normal behavior by any previous experimenter. In order to setup the eNB to the default settings you issue the following commands:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget -qO- <span class="s1">&#39;http://lterf:5054/lterf/bs/default&amp;&amp;node=2&#39;</span>
</pre></div>
</div>
<p>Since not all of the changes take place immediately, you will need to restart the eNB for some of the changes to take effect. You can restart the eNB with the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget -qO- <span class="s1">&#39;http://lterf:5054/lterf/bs/restart?node=2&#39;</span>
</pre></div>
</div>
<p>Which will return you the message:</p>
<div class="highlight-bash"><div class="highlight"><pre>... has been restarted
</pre></div>
</div>
</div>
<div class="section" id="restart-epc">
<h2>5.Restart EPC<a class="headerlink" href="#restart-epc" title="Permalink to this headline">¶</a></h2>
<p>In order to setup the EPC to the default settings you issue the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget -qO- <span class="s1">&#39;http://lterf:5054/lterf/epc/config/load?name=setDefaultEpc&#39;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>As NITOS is currently upgrading to control multiple remote femtocells, please issue the following command to switch using the indoor testbed before restarting it. You can do this with the following command:</p>
<p class="last">wget -qO- &#8216;<a class="reference external" href="http://lterf:5054/lterf/epc/config/testbed?name=indoor">http://lterf:5054/lterf/epc/config/testbed?name=indoor</a>&#8216;</p>
</div>
<p>You will need to restart the EPC twice in order for some of the changes to take effect. You can restart the EPC with the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget -qO- <span class="s1">&#39;http://lterf:5054/lterf/epc/restart&#39;</span>
</pre></div>
</div>
<p>Which will return you the message:</p>
<div class="highlight-bash"><div class="highlight"><pre>EPC network has been restarted
</pre></div>
</div>
<p>There are some cases where the EPC is restarted but not all of the EPC compoenents are interconnected. You should check if the EPC is working by sending the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget -qO- <span class="s2">&quot;http://lterf:5054/lterf/epc/get?function=getSystemStatus&quot;</span> <span class="p">|</span> xml_pp
</pre></div>
</div>
<p>If everything is working correctly, you should see an output where all the components report connected. If at least one of the components SGW, HSS, PGW is not connected, try restarting the EPC again.</p>
</div>
<div class="section" id="check-if-all-components-are-connected">
<h2>6.Check if all components are connected<a class="headerlink" href="#check-if-all-components-are-connected" title="Permalink to this headline">¶</a></h2>
<p>In order to check if the eNB is connected to EPC after the restart you will have to type the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget -qO- <span class="s1">&#39;http://lterf:5054/lterf/epc/get?function=getSystemStatus&amp;args=MME,S1AP_INTERFACE,192.168.200.1&#39;</span> <span class="p">|</span> xml_pp
</pre></div>
</div>
<p>Which will return you the message:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;STATUS&gt;</span>
        <span class="nt">&lt;EPC&gt;</span>
                <span class="nt">&lt;getSystemStatus&gt;</span>
                        <span class="nt">&lt;instance</span> <span class="na">id=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;componentType&gt;</span>MME<span class="nt">&lt;/componentType&gt;</span>
                                <span class="nt">&lt;currentStatus&gt;</span>CONNECTED<span class="nt">&lt;/currentStatus&gt;</span>
                                <span class="nt">&lt;lastUpdated&gt;</span>2015-05-21T13:49:52Z<span class="nt">&lt;/lastUpdated&gt;</span>
                                <span class="nt">&lt;statusType&gt;</span>S1AP_INTERFACE<span class="nt">&lt;/statusType&gt;</span>
                                <span class="nt">&lt;statusIdentifier&gt;</span>192.168.200.1<span class="nt">&lt;/statusIdentifier&gt;</span>
                                <span class="nt">&lt;severityLevel&gt;</span>0<span class="nt">&lt;/severityLevel&gt;</span>
                         <span class="nt">&lt;/instance&gt;</span>
                 <span class="nt">&lt;/getSystemStatus&gt;</span>
        <span class="nt">&lt;/EPC&gt;</span>
<span class="nt">&lt;/STATUS&gt;</span>
</pre></div>
</div>
<p>You can see the parameters that can be changed and the LTERF service commands and their syntax by invoking the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget -qO- <span class="s1">&#39;http://lterf:5054/lterf/&#39;</span> <span class="p">|</span> xml_pp
</pre></div>
</div>
<p>It returns an XML tree with the complete list of LTERF commands. Since the eNB and EPC are back to their default settings, you can start experimenting with the LTE testbed.</p>
</div>
<div class="section" id="connect-to-the-lte-network">
<h2>7.Connect to the LTE network<a class="headerlink" href="#connect-to-the-lte-network" title="Permalink to this headline">¶</a></h2>
<p>Using AT commands</p>
<p>Login to the node0xx with the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>ssh root@node0xx
</pre></div>
</div>
<p>You will have to first turn the LTE dongle on. You can do this by running the following command on the node console in order to switch it on and connect it to the available networks (NITOS/EURECOM):</p>
<div class="highlight-bash"><div class="highlight"><pre>root@node0XX:~# lte_dongle -o -v -c NITOS
</pre></div>
</div>
<p>The &#8220;-o&#8221; argument can be used to turn the USB on/off, while the -v is used for the verbose output at the console. The &#8220;-c&#8221; argument is instructing the node to connect to the provided network (currently supported are NITOS/EURECOM).  You can use the &#8220;-h&#8221; argument for a complete list of the available commands.</p>
<p>Once the dongle is connected, you can see it listed with the lsusb command. The output should look like the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>root@node0XX:~# lsusb <span class="p">|</span> grep Huawei
Bus <span class="m">001</span> Device 008: ID 12d1:1506 Huawei Technologies Co., Ltd. E398 LTE/UMTS/GSM Modem/Networkcard
</pre></div>
</div>
<p>And a wwan0 device should be attached on the node for the E392/E3272 dongles, or an eth2 for the E3372 dongles and a usb0 device for the ZTE dongles.
If you are able to ping the PGW IP (10.0.3.1 for the NITOS network), you can skip the configuration over the serial port, as it is provided for debugging purposes</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Multiple restarts of the dongle might cause the huawei_cdc_ncm driver not to attach correctly and therefore no wwan0 interface will be available. In such a case, reboot the node.</p>
</div>
<p>Next step is to connect to the LTE dongle using the minicom application. The port that can be used to setup the LTE interface depends on the USB LTE stick model. In order to check the LTE stick model number, connect with minicom over the port /dev/ttyUSB0 (or USB1, depends on the LTE Dongle type (for more information see the list below)) and run the following commands:</p>
<div class="highlight-bash"><div class="highlight"><pre>root@node0XX:~# minicom -D /dev/ttyUSB0
ATE
ATI
</pre></div>
</div>
<p>The &#8220;ATE&#8221; command will enable the local-echo to the output console, so that you can see what you write, and the &#8220;ATI&#8221; command will return to you some information about the LTE dongle.</p>
<p>The following dongles are available in NITOS, with the respective ports that can be used for configuring them:</p>
<dl class="docutils">
<dt>LTE Dongle type         &#8211;&gt;     Port used for configuration</dt>
<dd><p class="first">Huawei E398     &#8211;&gt;     /dev/ttyUSB0</p>
<p>Huawei E3272    &#8211;&gt;     /dev/ttyUSB1</p>
<p class="last">Huawei E3372    &#8211;&gt;     /dev/ttyUSB0</p>
</dd>
</dl>
<p>In order to configure it exit minicom and restart it using the port as an argument</p>
<div class="highlight-bash"><div class="highlight"><pre>root@node0XX:~# minicom -D PORT
</pre></div>
</div>
<p>In order to turn on the air interface:</p>
<div class="highlight-bash"><div class="highlight"><pre>at+cfun<span class="o">=</span>1
</pre></div>
</div>
<p>Add a new APN and activate the PDP context:</p>
<div class="highlight-bash"><div class="highlight"><pre>at+cgdcont<span class="o">=</span>1,<span class="s2">&quot;IP&quot;</span>,<span class="s2">&quot;default&quot;</span>

at^ndisdup<span class="o">=</span>1,1,<span class="s2">&quot;default&quot;</span>

at+cgatt<span class="o">=</span>1

at+cgact<span class="o">=</span>1,1

at^dhcp?
</pre></div>
</div>
<p>If the last command outputs a string with numbers in HEX, the dongle should have received the IP address from the EPC DHCP network. You can now exit from minicom and configure the wwan0 interface with the ip 10.0.3.xx. Generally, the last digits for the IP address are the same as the node ID (e.g. node077 gets the 10.0.3.77/24 IP address).</p>
<p>If at^dhcp is giving you an error or just reports &#8220;OK&#8221;, then the modem is not in a state to connect. To do so, bring down the air interface and re-activate it by using the next set of commands:</p>
<div class="highlight-bash"><div class="highlight"><pre>AT+CFUN<span class="o">=</span>0

AT+CFUN<span class="o">=</span>1
</pre></div>
</div>
<p>You can now wait for the modem to report</p>
<div class="highlight-bash"><div class="highlight"><pre>^SRVST<span class="o">=</span>2
</pre></div>
</div>
<p>If it is in such serving state, the modem can connect to the network, so you can re-send the previous set of commands for adding the APN and connecting to the network.</p>
<p>Once AT^DHCP is reporting you the IP address received from the LTE network, you can setup the network interface. To do so, exit minicom (Ctrl+a followed by Ctrl+x will show you the exit window) and send the following command from the node console:</p>
<div class="highlight-bash"><div class="highlight"><pre>root@node0XX:~# dhclient wwan0
</pre></div>
</div>
<p>Once the dhclient command exits, the wwan0 interface should have an IP address. However, the system by default is assigning automatically a subnet mask equal to /30. You can overcome this by sending the following commands:</p>
<div class="highlight-bash"><div class="highlight"><pre>root@node0XX:~# ifconfig wwan0 netmask 255.255.255.0 -arp up
</pre></div>
</div>
<p>Now you should be able to ping the PDN-GW component of the EPC network (the default configuration uses the 10.0.3.1 IP address) or any other LTE client connected to the network.</p>
<p>The LTE interfaces can get in an IDLE state when you do not send any traffic over the network. If this is something that you do not want, you can have a ping running in the background, pinging the EPC network.</p>
</div>
<div class="section" id="performing-downlink-experiments">
<h2>8.Performing Downlink experiments<a class="headerlink" href="#performing-downlink-experiments" title="Permalink to this headline">¶</a></h2>
<p>If you decide to keep the LTE default configuration, performing DL/UL experiments can be a lttle tricky. The overall architecture of the NITOS LTE network is based on the 192.168.200.0/24 network for the communication between femtocells and the EPC network. This network, is also attached to each node&#8217;s experimental network.</p>
<p>In order to do DL/UL experiments involving the wired experimental network, you will need a testbed node that has an IP address from the 192.168.200.0/24 network configured for the experimental interface. To do so, log in on a node and send the following commands:</p>
<div class="highlight-bash"><div class="highlight"><pre>root@node0XX:~# ifconfig eth1 192.168.200.XX/24 up
root@node0XX:~# route add -net 10.0.3.0/24 gw 192.168.200.200
</pre></div>
</div>
<p>Now you have configured the receiving node to send and receive traffic to/from the LTE network by using the EPC (192.168.200.200) as the default gateway.</p>
<p>You will have to configure routing on the LTE node as well, as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre>root@node0XX:~# route add -net 192.168.200.0/24 gw 10.0.3.1
</pre></div>
</div>
<p>Now the LTE node will use the EPC PDN-GW as the default gateway for sending traffic to the 192.168.200.0/24 network. You should be able to ping each side and do DL/UL experiments with any available traffic generator.</p>
</div>
<div class="section" id="other-lterf-configurations">
<h2>9.Other LTErf configurations<a class="headerlink" href="#other-lterf-configurations" title="Permalink to this headline">¶</a></h2>
<p>The LTErf service is used for configuring the base stations, EPC networks and datapath configurations in the LTE network. The service is supporting several configurations. All the available services can be retrieved from the LTErf service using the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget -qO- <span class="s2">&quot;http://lterf:5054/lterf/&quot;</span> <span class="p">|</span> xml_pp
</pre></div>
</div>
<p>In the following articles a complete list of the possible configurations per building block are illustrated:</p>
<ul class="simple">
<li><a href="http://nitlab.inf.uth.gr/NITlab_old/index.php/testbed/lte-experimentation/lte-omf-am-service/33-testbed/lte-documentation/497-lte-base-station-control-service-documentation" target="_blank">LTE Base Station Control Service Documentation</a></li>
</ul>
<ul class="simple">
<li><a href="http://nitlab.inf.uth.gr/NITlab_old/index.php/testbed/lte-experimentation/lte-omf-am-service/33-testbed/lte-documentation/498-lte-epc-control-service-documentation" target="_blank">LTE EPC Control Service Documentation</a></li>
</ul>
<ul class="simple">
<li><a href="http://nitlab.inf.uth.gr/NITlab_old/index.php/testbed/lte-experimentation/lte-omf-am-service/33-testbed/lte-documentation/499-lte-datapath-control-service-documentation" target="_blank">LTE Datapath Control Service Documentation</a></li>
</ul>
<p>You can also check out the rest of the available LTE tutorials.</p>
</div>
<div class="section" id="using-omf">
<h2>10.Using OMF<a class="headerlink" href="#using-omf" title="Permalink to this headline">¶</a></h2>
<p>Instead of using the AT-Commands to setup the LTE dongle, you can use the OMF to automatically setup the air interface for you. If you are not familiar with OMF, please refer to the OMF-related pages in this site.</p>
<p>An example of an OMF experiment used to generate traffic in the NITOS testbed, using the LTE enabled nodes is the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>defGroup<span class="o">(</span><span class="s2">&quot;Sender&quot;</span>,<span class="s2">&quot;omf.nitos.node066&quot;</span><span class="o">){</span> <span class="p">|</span>node<span class="p">|</span>
        node.addApplication<span class="o">(</span><span class="s2">&quot;iperf-5.4&quot;</span>, :id <span class="o">=</span>&gt; <span class="s1">&#39;iperf&#39;</span><span class="o">)</span> <span class="o">{</span><span class="p">|</span>app<span class="p">|</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;port&#39;</span>, 5200<span class="o">)</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;bandwidth&#39;</span>,<span class="s2">&quot;100000000&quot;</span><span class="o">)</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;udp&#39;</span>,true<span class="o">)</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;time&#39;</span>, 100<span class="o">)</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;client&#39;</span>, <span class="s2">&quot;10.0.3.77&quot;</span><span class="o">)</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;reportstyle&#39;</span>, <span class="s1">&#39;o&#39;</span><span class="o">)</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;interval&#39;</span>, <span class="s1">&#39;1&#39;</span><span class="o">)</span>
                app.measure<span class="o">(</span><span class="s1">&#39;transfer&#39;</span>, :samples<span class="o">=</span>&gt;1<span class="o">)</span>
                app.measure<span class="o">(</span><span class="s1">&#39;losses&#39;</span>, :samples<span class="o">=</span>&gt;1<span class="o">)</span>

        <span class="o">}</span>
        <span class="c">#Configure LTE dongle</span>
        node.net.l0.radio <span class="o">=</span> <span class="s2">&quot;on&quot;</span>
        node.net.l0.apn <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
        node.net.l0.attach <span class="o">=</span> 1
        node.net.l0.connect <span class="o">=</span> <span class="s2">&quot;default&quot;</span> <span class="c">#Connect and set up wwan interface</span>

<span class="o">}</span>
defGroup<span class="o">(</span><span class="s2">&quot;Receiver&quot;</span>,<span class="s2">&quot;omf.nitos.node077&quot;</span><span class="o">){</span> <span class="p">|</span>node<span class="p">|</span>
        node.addApplication<span class="o">(</span><span class="s2">&quot;iperf-5.4&quot;</span>, :id <span class="o">=</span>&gt; <span class="s1">&#39;iperf&#39;</span><span class="o">)</span> <span class="o">{</span><span class="p">|</span>app<span class="p">|</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;port&#39;</span>, 5200<span class="o">)</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;server&#39;</span>, <span class="nb">true</span><span class="o">)</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;udp&#39;</span>,true<span class="o">)</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;reportstyle&#39;</span>, <span class="s1">&#39;o&#39;</span><span class="o">)</span>
                app.setProperty<span class="o">(</span><span class="s1">&#39;interval&#39;</span>, <span class="s1">&#39;1&#39;</span><span class="o">)</span>
                app.measure<span class="o">(</span><span class="s1">&#39;transfer&#39;</span>, :samples<span class="o">=</span>&gt;1<span class="o">)</span>
                app.measure<span class="o">(</span><span class="s1">&#39;losses&#39;</span>, :samples<span class="o">=</span>&gt;1<span class="o">)</span>
<span class="o">}</span>
        <span class="c">#Configure LTE dongle</span>
        node.net.l0.radio <span class="o">=</span> <span class="s2">&quot;on&quot;</span>
        node.net.l0.apn <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
        node.net.l0.attach <span class="o">=</span> 1
        node.net.l0.connect <span class="o">=</span> <span class="s2">&quot;default&quot;</span> <span class="c">#Connect and set up wwan interface</span>
<span class="o">}</span>
onEvent<span class="o">(</span>:ALL_UP_AND_INSTALLED<span class="o">){</span> <span class="p">|</span>event<span class="p">|</span>
        info <span class="s2">&quot;Configuring the LTE dongles&quot;</span>
        <span class="nb">wait </span>80
        info <span class="s2">&quot;Starting iperf server-client&quot;</span>
        group<span class="o">(</span><span class="s2">&quot;Receiver&quot;</span><span class="o">)</span>.startApplication<span class="o">(</span><span class="s1">&#39;iperf&#39;</span><span class="o">)</span>
        group<span class="o">(</span><span class="s2">&quot;Sender&quot;</span><span class="o">)</span>.startApplication<span class="o">(</span><span class="s1">&#39;iperf&#39;</span><span class="o">)</span>
        <span class="nb">wait </span>60
        info <span class="s2">&quot;Stoppping all applications&quot;</span>
        group<span class="o">(</span><span class="s2">&quot;Receiver&quot;</span><span class="o">)</span>.stopApplications
        group<span class="o">(</span><span class="s2">&quot;Sender&quot;</span><span class="o">)</span>.stopApplications
        Experiment.done
<span class="o">}</span>
</pre></div>
</div>
<p>You can refer to a complete description of the experiment to the following video:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RZL7_SakjsU" frameborder="0" allowfullscreen></iframe></div>
<div class="section" id="other-tutorials">
<h2>11.Other Tutorials<a class="headerlink" href="#other-tutorials" title="Permalink to this headline">¶</a></h2>
<p>Begin experimenting with LTE equipment</p>
<p>Description of the procedure that a user has to follow as soon as a reservation slot has started. We are using the OMF framework and the FLEX &#8220;LTErf&#8221; service to load default settings to the LTE base station and restart it.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1nkXdJY982o" frameborder="0" allowfullscreen></iframe><p>Changing MCS profiles and measuring throughput
An experiment demonstrating how an experimenter can change the MCS profile used by an LTE base station and observe differences in the achieved throughput. We demonstrate the usage of the FLEX &#8220;LTErf&#8221; service in the NITOS testbed.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/nai84dQ9QJA" frameborder="0" allowfullscreen></iframe><p>Federating WiMAX and LTE testbeds with an SDN approach
Demonstrating the federation capabilities of the LTErf service between the NITOS WiMAX and NITOS LTE testbeds</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/zZDESevkWHU" frameborder="0" allowfullscreen></iframe></div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="openflow.html" class="btn btn-neutral float-right" title="OpenFlow" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="wimax.html" class="btn btn-neutral" title="WiMAX" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, NITlab team.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>